## Документация по интеграции с сервисами Proil Business

### Общие правила отправки запросов

+ Запросы отправляются на сервер по протоколу https  
+ Успешный ответ сервера на запрос должен иметь статус-код 200
+ Тело успешного ответ сервера содержит валидный JSON-объект с обязательным параметром success: true  
+ Ответ с ошибкой может содержать статус-код, отличный от 200 и 304: 4хх или 5хх.  
+ Тело ответа сервера в случае возникновения обработанной ошибки будет содержать валидный JSON-объект с полем success: false и описанием ошибок в массиве errors.
+ Каждый запрос должен содержать заголовок для авторизации: Authorization: Token \<uuid\>
+ Сервисный токен выдается единожды администратором сервиса и не меняется.
+ В случае утечки следует получить новый сервисный токен.
+ Доменное имя боевого контура api.corp.proil.moscow
+ Доменное имя тестового контура alpha.corp.proil.moscow
+ Для тестового контура и боевого сервисные токены отличаются
+ Формат отправляемых данных может быть как json, так и с помозью формы


### Методы  API

#### Создание заявки на заправку

Метод: POST  
Путь: {domain name}/carshaing_api/orders/  
Пример тела запроса:
```json
{
    "car_id": "А788РЕ799",
    "lat": 55.124325873,
    "lon": 37.23847292,
    "fuel_type": "92"
}
```
Поддерживаемые типы топлива: 92, 95  
Пример ответа сервера:
```json
{
    "order_id": "700bfca0-bbcc-4a3f-b58c-23f5c6299ab0",
    "success": true
}
```

Параметр order_id - уникальный uuid (идентификатор) заявки, генерируется при формировании заявки  


#### Отзыв заявки на заправку
Метод: DELETE  
Путь: {domain name}/carshaing_api/orders/<order_id>/ 
Тело запроса пустое    
Пример ответа сервера:
```json
{
    "success": true
}
```
